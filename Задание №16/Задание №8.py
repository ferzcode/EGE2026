# ะกะฝะตะถะฝะฐั ะะพัะพะปะตะฒะฐ ัะพะทะดะฐะปะฐ ะฒะพะปัะตะฑะฝัั ััะฝะบัะธั ๐น(๐), ะบะพัะพัะฐั ะฟะพะผะพะณะฐะตั ะตะน ะฒััะธัะปััั ัะธะปั ะทะธะผั. ะญัะฐ ััะฝะบัะธั ะพะฟัะตะดะตะปัะตััั ัะปะตะดัััะธะผ ะพะฑัะฐะทะพะผ:

# ๐น(๐)=๐โ1, ะฟัะธ ๐โฉฝ3;
# ๐น(๐)=๐น(๐โ2)+๐/2โ๐น(๐โ4), ะตัะปะธ ๐>3 ะธ ๐ ัััะฝะพ;
# ๐น(๐)=๐น(๐โ1)ร๐+๐น(๐โ2), ะตัะปะธ ๐>3 ะธ ๐ ะฝะตัััะฝะพ,
# ะณะดะต ๐ โ ัะตะปะพะต ะฝะตะพััะธัะฐัะตะปัะฝะพะต ัะธัะปะพ.

# ะะพัะพะปะตะฒะฐ ัะตัะธะปะฐ ัะทะฝะฐัั, ะฝะฐัะบะพะปัะบะพ ะฒะตะปะธะบะฐ ัะธะปะฐ ะทะธะผั ะฒ ะตั ะบะพัะพะปะตะฒััะฒะต.
# ะะปั ััะพะณะพ ะฒััะธัะปะธัะต ะทะฝะฐัะตะฝะธะต ะฒััะฐะถะตะฝะธั:
# ๐น(4952)+2ร๐น(4958)+๐น(4964).
from functools import *
@lru_cache(None)
def f(n):
    if n <= 3: return n - 1
    if n > 3 and n % 2 == 0: return f(n - 2) + n // 2 - f(n - 4)
    if n > 3 and n % 2 != 0: return f(n - 1) * n + f(n - 2)

for n in range(0, 5000):
    f(n)

print(f(4952) + 2 * f(4958) + f(4964))

